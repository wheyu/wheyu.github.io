(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-game-ylgy-index"],{"0a26":function(t,a,i){"use strict";i.r(a);var n=i("d4d0"),e=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(a,t,(function(){return n[t]}))}(r);a["default"]=e.a},"19fe":function(t,a,i){"use strict";var n;i.d(a,"b",(function(){return e})),i.d(a,"c",(function(){return r})),i.d(a,"a",(function(){return n}));var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"card-box",style:"width:"+(t.cardW*t.cardWCount+20)+"px; height:"+(t.cardW*t.cardHCount+20)+"px"},[t._l(t.leftCard,(function(a,n){return i("v-uni-view",{key:n,class:a.cardClass,style:a.translateStyle,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickCard(a)}}},[i("v-uni-view",{staticClass:"card-item"},[i("img",{staticClass:"card-img",attrs:{src:"../../static/images/ylgy/"+a.img+".png"}})])],1)})),t.isGameOver?i("v-uni-view",{staticClass:"restart-box",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.startOrRestartGame.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"restart-item"},[i("v-uni-button",{staticClass:"restart-btn"},[t._v("开始游戏")])],1)],1):t._e()],2),i("v-uni-view",{staticClass:"card-hand-box",style:"width:"+(t.cardW*t.allHandCardCount+20)+"px; height:"+(t.cardH+14)+"px"},t._l(t.handCard,(function(a,n){return i("v-uni-view",{key:n,staticClass:"card-hand-item",style:"width:"+t.cardW+"px; height:"+t.cardH+"px"},[i("v-uni-view",{staticClass:"card-item"},[i("img",{staticClass:"card-img",attrs:{src:"../../static/images/ylgy/"+a.img+".png"}})])],1)})),1),t.showToast?i("v-uni-view",{staticClass:"toast-view",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showToast=!1}}},[i("v-uni-view",{staticClass:"toast-box"},[i("v-uni-view",{staticClass:"toast-info"},[t.toastInfo?i("v-uni-view",{staticClass:"toast-title"},[t._v(t._s(t.toastInfo))]):t._e()],1)],1)],1):t._e()],1)},r=[]},"21cf":function(t,a,i){"use strict";var n=i("b99b"),e=i.n(n);e.a},"5ab7":function(t,a,i){var n=i("24fb");a=n(!1),a.push([t.i,".content[data-v-c25b5d3c]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:50px;position:fixed;top:0;bottom:0;left:0;right:0}.card[data-v-c25b5d3c]{position:absolute;border-radius:6px;color:#000;font-size:20px;\n    /* box-shadow: 0 8px 0 green; */text-align:center;line-height:30px;cursor:default}.card-bottom[data-v-c25b5d3c]{-webkit-filter:grayscale(.9);filter:grayscale(.9);position:absolute;color:#000;font-size:20px;\n    /* box-shadow: 0 8px 0 green; */text-align:center;line-height:30px;cursor:default}.card-bottom > .card-item[data-v-c25b5d3c]{-webkit-filter:drop-shadow(1px 2px 2px grey);filter:drop-shadow(1px 2px 2px gray)}.card > .card-item[data-v-c25b5d3c]{-webkit-filter:drop-shadow(2px 4px 6px #000);filter:drop-shadow(2px 4px 6px black)}.card-item[data-v-c25b5d3c]{background-color:#fff;width:90%;height:90%;margin-left:5%;margin-top:5%;border-radius:6px}.card-img[data-v-c25b5d3c]{width:80%;height:80%;margin-left:10%;margin-top:10%}.card-hand-box[data-v-c25b5d3c]{display:flex;background:#90ee90;border-radius:6px;padding:7px 10px}.card-hand-item[data-v-c25b5d3c]{color:#000;font-size:20px;-webkit-filter:drop-shadow(2px 4px 6px #000);filter:drop-shadow(2px 4px 6px black);text-align:center;line-height:30px;cursor:default}.toast-view[data-v-c25b5d3c]{position:absolute;top:0;bottom:0;right:0;left:0;background:rgba(0,0,0,.43);display:flex;justify-content:center;align-items:center;z-index:999}.toast-box[data-v-c25b5d3c]{border-radius:.5rem;padding:.5rem}.toast-info[data-v-c25b5d3c]{font-size:1.2rem;line-height:1.6rem;font-weight:550;color:#fff}.restart-box[data-v-c25b5d3c]{position:relative;width:100%;height:100%;background-color:rgba(0,0,0,.58);z-index:99;display:flex;justify-content:center;align-items:center;border-radius:10px}",""]),t.exports=a},b99b:function(t,a,i){var n=i("5ab7");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("4f06").default;e("e9a4a32a",n,!0,{sourceMap:!1,shadowMode:!1})},d4d0:function(t,a,i){"use strict";i("4de4"),i("7db0"),i("c740"),i("4160"),i("a434"),i("159b"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i("d821"),e={data:function(){return{allCard:[],leftCard:[],handCard:[],windowHeight:0,windowWidth:0,cardW:0,cardH:0,cardWCount:6,cardHCount:6,allHandCardCount:0,cardWH:"",gameState:"",isGameOver:!0,showToast:!1,toastInfo:""}},created:function(){},onLoad:function(){var t=this;uni.getSystemInfo({success:function(a){t.windowWidth=a.windowWidth,t.windowHeight=a.windowHeight,t.initData()}})},methods:{initData:function(){var t=this.windowWidth,a=this.windowHeight;this.cardWCount=6,this.cardHCount=6;var i=t;t/this.cardWCount>a/(this.cardHCount+1)+20&&(i=a),this.cardW=this.cardH=Math.floor((i-10)/n.CARD_KIND),this.allHandCardCount=n.ALL_HAND_CARD,this.clearData()},clearData:function(){this.allCard=[],this.leftCard=[],this.handCard=[],this.isGameOver=!0},initCardData:function(){var t=(0,n.initDefaultCardInfos)(this.cardW,this.cardH);this.allCard=t,this.leftCard=t,this.isGameOver=!1},startOrRestartGame:function(){this.clearData(),this.initCardData(),this.findAndChangeBottom()},refreshCard:function(){},showToastClick:function(t){this.showToast=!0,this.toastInfo=t},clickCard:function(t){if(t&&!t.isBottom&&!this.isGameOver){var a=this.leftCard.findIndex((function(a){return a.id===t.id})),i=0,n=-1;if(this.handCard.forEach((function(a){i++,-1==n&&a.content==t.content&&(n=i)})),-1==n?this.handCard.push(t):this.handCard.splice(n,0,t),this.leftCard.splice(a,1),this.handleHandCard(),console.log("============  "),this.handCard.length>=this.allHandCardCount)return this.isGameOver=!0,void this.showToastClick("失败！！");if(0==this.leftCard.length)return 0==this.handCard.length?(this.isGameOver=!0,void this.showToastClick("成功！！")):(this.isGameOver=!0,void this.showToastClick("失败！！"));console.log("======== click leftCard handCard ",this.leftCard.length,this.handCard.length),this.findAndChangeBottom()}},handleHandCard:function(){for(var t=this,a=0,i=function(i){a=t.handCard.filter((function(t){return t.content==i})).length,a>=3&&(t.handCard=t.handCard.filter((function(t){return t.content!=i})))},n=0;n<20;n++)i(n)},findAndChangeBottom:function(){var t=this;console.log("====== this.leftCard.legnth",this.leftCard.length),this.leftCard.forEach((function(a){var i=t.leftCard.find((function(i){return t.isCovered(a,i)}));i?t.setCardBottom(a):t.setCardNormal(a)}))},isCovered:function(t,a){if(t.level>=a.level)return!1;var i=Math.abs(a.x-t.x)<70,n=Math.abs(a.y-t.y)<70;return i&&n},setCardBottom:function(t){t.isBottom=!0,t.cardClass=["card-bottom"]},setCardNormal:function(t){t.isBottom=!1,t.cardClass=["card"]}}};a.default=e},d583:function(t,a,i){"use strict";i.r(a);var n=i("19fe"),e=i("0a26");for(var r in e)"default"!==r&&function(t){i.d(a,t,(function(){return e[t]}))}(r);i("21cf");var o,d=i("f0c5"),s=Object(d["a"])(e["default"],n["b"],n["c"],!1,null,"c25b5d3c",null,!1,n["a"],o);a["default"]=s.exports},d821:function(t,a,i){"use strict";i("99af"),i("4e82"),i("a434"),Object.defineProperty(a,"__esModule",{value:!0}),a.initDefaultCardInfos=v,a.CARD_KIND=a.ALL_HAND_CARD=a.CARD_HEIGHT=a.CARD_WIDTH=void 0;var n=70;a.CARD_WIDTH=n;var e=70;a.CARD_HEIGHT=e;var r=["pg","nm","tz","xhs","xj","mg","qz","hlg"],o=7;a.ALL_HAND_CARD=o;var d=8;a.CARD_KIND=d;var s=4,c=30,l=3*d*s+c,h=l+c,f=[],u=[];function v(t,i){f=[],u=[],C(),t&&i&&(a.CARD_WIDTH=n=t,a.CARD_HEIGHT=e=i),console.log("============ CARD_WIDTH ",n);var r=n/2,o=e/2;return p(6,6,1),p(5,5,2,1*r,1*o),p(4,4,3,2*r,2*o),p(3,3,4,3*r,3*o),g(),f}function C(){for(var t=0,a=0;a<h;a++)t==d&&(t=0),u.push(t),t++;u.sort((function(){return.5-Math.random()}))}function p(t,a,i){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=0;s<t;s++)for(var c=0;c<a;c++){if(f.length===h)return;var l=n*s+o,v=e*c+d,C=u.pop();f.push({id:s+"-"+c+"-"+i,x:l,y:v,level:i,translateStyle:"transform: translate(".concat(l,"px, ").concat(v,"px);z-index: ").concat(i,"; width: ").concat(n,"px; height: ").concat(e,"px"),isBottom:!1,cardClass:["card"],content:C,img:r[C]})}}function g(){for(var t=0;t<c;t++){var a=Math.floor(Math.random()*f.length);console.log("random",a),f.splice(a,1)}}}}]);